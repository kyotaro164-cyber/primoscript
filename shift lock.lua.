local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- GUI Cleanup (Para hindi mag-duplicate)
local oldGui = game:GetService("CoreGui"):FindFirstChild("PrimoUniversalLock")
if oldGui then oldGui:Destroy() end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "PrimoUniversalLock"
screenGui.Parent = game:GetService("CoreGui")

local centerDot = Instance.new("Frame")
centerDot.Size = UDim2.new(0, 6, 0, 6)
centerDot.Position = UDim2.new(0.5, 0, 0.5, 0)
centerDot.AnchorPoint = Vector2.new(0.5, 0.5)
centerDot.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
centerDot.Visible = false
centerDot.Parent = screenGui
Instance.new("UICorner", centerDot).CornerRadius = UDim.new(1, 0)

local primoText = Instance.new("TextLabel")
primoText.Text = "P R I M O"
primoText.Size = UDim2.new(0, 100, 0, 100)
primoText.Position = UDim2.new(0.5, 0, 0.5, 0)
primoText.AnchorPoint = Vector2.new(0.5, 0.5)
primoText.BackgroundTransparency = 1
primoText.TextColor3 = Color3.fromRGB(255, 255, 255)
primoText.Font = Enum.Font.GothamBold
primoText.TextSize = 14
primoText.Visible = false
primoText.Parent = screenGui
Instance.new("UIStroke", primoText).Thickness = 2

local toggleButton = Instance.new("ImageButton")
toggleButton.Size = UDim2.new(0, 60, 0, 60)
toggleButton.Position = UDim2.new(0.85, 0, 0.5, 0)
toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
toggleButton.Image = "rbxassetid://6031068833"
toggleButton.Parent = screenGui
Instance.new("UICorner", toggleButton).CornerRadius = UDim.new(1, 0)

local active = false
toggleButton.MouseButton1Click:Connect(function()
    active = not active
    if active then
        centerDot.Visible = true
        primoText.Visible = true
        toggleButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        toggleButton.ImageColor3 = Color3.fromRGB(0, 0, 0)
        RunService:BindToRenderStep("PrimoLock", 200, function()
            UserInputService.MouseBehavior = Enum.MouseBehavior.LockCenter
            primoText.Rotation = primoText.Rotation + 3
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local root = player.Character.HumanoidRootPart
                local cam = workspace.CurrentCamera
                root.CFrame = CFrame.new(root.Position, root.Position + Vector3.new(cam.CFrame.LookVector.X, 0, cam.CFrame.LookVector.Z))
            end
        end)
    else
        centerDot.Visible = false
        primoText.Visible = false
        toggleButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        toggleButton.ImageColor3 = Color3.fromRGB(255, 255, 255)
        RunService:UnbindFromRenderStep("PrimoLock")
        UserInputService.MouseBehavior = Enum.MouseBehavior.Default
    end
end)
